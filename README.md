# ISLI ‚Äì Sistema de Inspecci√≥n de Lotes Industriales

## üìö √çndice

1. [Introducci√≥n](#1-üìñ-introducci√≥n)  
2. [Instalaci√≥n y Requisitos](#2-‚öôÔ∏è-instalaci√≥n-y-requisitos)  
3. [Pantalla de Inicio de Sesi√≥n](#3-üîê-pantalla-de-inicio-de-sesi√≥n)  
   - [3.1 Recuperaci√≥n de contrase√±a](#31-recuperaci√≥n-de-contrase√±a)  
4. [Men√∫ Principal ‚Äì Control de Calidad](#4-üè†-men√∫-principal--control-de-calidad)  
   - [4.1 Ejecuci√≥n paso a paso del control de calidad](#41-ejecuci√≥n-paso-a-paso-del-control-de-calidad)  
   - [4.2 Guardado de resultados](#42-guardado-de-resultados)  
   - [4.3 Generaci√≥n de informes PDF](#43-generaci√≥n-de-informes-pdf)  
5. [Hist√≥rico de Controles](#5-hist√≥rico-de-controles)  
   - [5.1 Filtrado por usuario, fecha y tolerancia](#51-filtrado-por-usuario-fecha-y-tolerancia)  
   - [5.2 Edici√≥n de comentarios](#52-edici√≥n-de-comentarios)  
   - [5.3 Visualizaci√≥n de informes](#53-visualizaci√≥n-de-informes)  
6. [Panel Lateral de Navegaci√≥n](#6-panel-lateral-de-navegaci√≥n)  
   - [6.1 Visualizaci√≥n del usuario actual](#61-visualizaci√≥n-del-usuario-actual)  
   - [6.2 Navegaci√≥n entre ventanas](#62-navegaci√≥n-entre-ventanas)  
   - [6.3 Acceso al Panel de Administraci√≥n (solo administradores)](#63-acceso-al-panel-de-administraci√≥n-solo-administradores)  
   - [6.4 Gestor de rutas de almac√©n (solo administradores)](#64-gestor-de-rutas-de-almac√©n-solo-administradores)  
   - [6.5 Acceso al Manual de Usuario](#65-acceso-al-manual-de-usuario)  
   - [6.6 Cierre de sesi√≥n](#66-cierre-de-sesi√≥n)  
7. [Cr√©ditos y Mantenimiento](#7-cr√©ditos-y-mantenimiento)  
8. [Preguntas Frecuentes (FAQ)](#8-preguntas-frecuentes-faq)
9. [Funcionalidades implementadas](#9-‚ú®-funcionalidades-implementadas)  
10. [Estructura del repositorio](#10-üìÅ-estructura-del-repositorio)

---

## 1. üìñ Introducci√≥n

**ISLI ‚Äì Control de Calidad** es una aplicaci√≥n de escritorio dise√±ada para facilitar el proceso de inspecci√≥n y validaci√≥n de calidad de superficies industriales planas y continuas mediante visi√≥n artificial. La herramienta puede ser √∫til a un amplio espectro de industrias (pl√°sticos, maderas, textiles, entre otros ), permitiendo a los operarios:

- Cargar una carpeta con im√°genes de productos o rollos capturados por un sistema de visi√≥n artificial.
- Ejecutar un an√°lisis automatizado que detecta y mide defectos visuales, permitiendo visualizar las im√°genes originales y procesadas en visores gr√°ficos de alta calidad.
- Clasificar los resultados como "ok" o "nok" seg√∫n los par√°metros de tolerancia definidos por el usuario.
- Guardar los controles realizados y generar informes en formato PDF.
- Consultar un hist√≥rico completo de controles realizados, con posibilidad de filtrado, edici√≥n de comentarios y acceso a informes anteriores.

Adem√°s, incluye funcionalidades exclusivas para administradores, como el acceso al panel de control o la gesti√≥n de rutas de almacenamiento de los rollos para el an√°lisis por lotes.

Este manual de usuario est√° pensado para guiar paso a paso tanto a usuarios operarios como a administradores en el uso completo de la aplicaci√≥n, desde la instalaci√≥n hasta la interpretaci√≥n de informes.

## 2. ‚öôÔ∏è Instalaci√≥n y Requisitos

### Requisitos del sistema

Para ejecutar la aplicaci√≥n ISLI correctamente, se recomienda cumplir con los siguientes requisitos m√≠nimos:

- **Sistema operativo**: Windows 10 o superior
- **Procesador**: Intel i5 / AMD Ryzen 5 o superior
- **Memoria RAM**: 4 GB m√≠nimo (se recomienda 8 GB)
- **Resoluci√≥n de pantalla**: 1280x720 o superior
- **Python**: Versi√≥n 3.10 o superior
- **Dependencias**: Las bibliotecas necesarias se detallan en el requirements.txt.

---

### üì¶ Instalaci√≥n paso a paso

1. **Clona el repositorio** desde GitHub o descarga el proyecto en formato `.zip`:

    ```bash
    git clone https://github.com/tu-usuario/isli.git
    ```

2. **Accede al directorio del proyecto**:

    ```bash
    cd isli
    ```

3. **Crea un entorno virtual** (opcional pero recomendado):

    ```bash
    python -m venv venv
    venv\Scripts\activate  # En Windows
    ```

4. **Instala las dependencias necesarias**:

    ```bash
    pip install -r requirements.txt
    ```

---

### üñ•Ô∏è Ejecuci√≥n del sistema

La aplicaci√≥n ISLI consta de dos componentes principales: un **frontend de escritorio** y un **backend REST API**. Ambos deben estar en funcionamiento para una experiencia completa.

---

#### üîπ Backend (FastAPI)

1. Abre una terminal y accede a la carpeta `backend/`:

    ```bash
    cd backend
    ```

2. Inicia el servidor ejecutando:

    ```bash
    uvicorn main:app --reload
    ```

    Esto iniciar√° la API REST en:

    ```
    http://127.0.0.1:8000
    ```

---

#### üîπ Frontend (PySide6)

1. Abre otra terminal y accede al directorio del frontend:

    ```bash
    cd frontend
    ```

2. Lanza la aplicaci√≥n de escritorio:

    ```bash
    python main.py
    ```

> ‚úÖ La interfaz requiere que el backend est√© activo para funciones como el login, el guardado de resultados o la obtenci√≥n del siguiente ID de control.

---

### üß© Principales tecnolog√≠as utilizadas

| Componente        | Tecnolog√≠a                          |
|-------------------|-------------------------------------|
| **Frontend**      | PySide6 (Qt for Python)             |
| **Estilo visual** | Qt Designer + layouts personalizados|
| **Backend**       | FastAPI                             |
| **Base de datos** | MySQL                               |
| **Conexi√≥n DB**   | `mysql-connector-python`            |
| **PDFs**          | `reportlab`                         |
| **Im√°genes**      | `opencv-python`                     |
| **Autenticaci√≥n** | JSON Web Tokens (JWT)               |
| **API HTTP**      | `requests`                          |



...

## 3. üîê Pantalla de Inicio de Sesi√≥n

## 3. Pantalla de Inicio de Sesi√≥n

Al iniciar la aplicaci√≥n, el usuario accede a la **pantalla de login**, que es el punto de entrada al sistema. Esta interfaz permite autenticar a los usuarios registrados para acceder a las funcionalidades de la aplicaci√≥n.

### üßæ Campos requeridos

- **Correo electr√≥nico**  
- **Contrase√±a**

Ambos campos son obligatorios. Si alguno est√° vac√≠o o no coincide con las credenciales almacenadas, se mostrar√° un mensaje de error.

![No se permiten campos vac√≠os](campos_vacios_login.png)

---

### üîê Validaci√≥n y acceso

- Si las credenciales son v√°lidas, el usuario ser√° redirigido autom√°ticamente al **men√∫ principal** de la aplicaci√≥n tras un mensaje informativo con su rol.
- Si no son correctas, se mostrar√° un mensaje de advertencia y se pedir√° reintentar.

PANTALLAZO DE MENSAJE DE ERROR!!

---

### üë§ Roles de usuario

Existen distintos roles de usuario con diferentes niveles de acceso:

- `operario`: acceso a control de calidad, hist√≥rico, generaci√≥n de informes, adici√≥n de notas en informes.
- `administrador`: acceso completo, incluyendo panel de administraci√≥n y gestor de rutas.

El sistema detecta el rol autom√°ticamente tras el login y adapta la interfaz en consecuencia (deshabilitando botones o habilitando opciones exclusivas).

---

### üõ†Ô∏è Consideraciones t√©cnicas

- El login requiere conexi√≥n activa con el backend.
- El sistema valida los datos mediante una llamada HTTP `POST` al endpoint `/login`.
- Si la autenticaci√≥n es exitosa, se almacena internamente un **token JWT**, que se utilizar√° para autenticar las acciones del usuario mientras dure la sesi√≥n.

### 3.1 Recuperaci√≥n de contrase√±a

En caso de haber olvidado la contrase√±a, el usuario puede iniciar el proceso de restablecimiento desde la propia pantalla de inicio de sesi√≥n.

#### üîó Acceso al formulario

1. Haz clic en el enlace **"Olvid√© mi contrase√±a"** ubicado debajo del formulario de login.
2. Se abrir√° la ventana **"Restablecer contrase√±a"**.

#### üìù Campos requeridos

- **Correo electr√≥nico asociado a la cuenta**
- **Nueva contrase√±a deseada**
- **Motivo de la solicitud**

El motivo permite informar al administrador del contexto de la solicitud (por ejemplo, ‚Äúcambio de equipo‚Äù, ‚Äúno recuerdo la anterior‚Äù, etc.).

---

#### üîÑ Proceso de aprobaci√≥n

Una vez enviado el formulario:

- La solicitud queda registrada con estado **pendiente** en el sistema.
- Cualquier administrador podr√° visualizarla desde el panel de administraci√≥n, donde aparecer√° un **bot√≥n naranja de alerta** indicando que existe una solicitud activa.
- Al hacer clic en el bot√≥n, el administrador podr√° aprobar la solicitud.
- Al aprobarla:
  - Se actualiza la contrase√±a en la cuenta correspondiente.
  - El estado de la solicitud pasa a **atendida**.
- El usuario podr√° iniciar sesi√≥n con su nueva contrase√±a de forma inmediata.

---

> ‚ö†Ô∏è La recuperaci√≥n de contrase√±a no es autom√°tica. Requiere la aprobaci√≥n de un administrador del sistema.

## 4. üè† Men√∫ Principal ‚Äì Control de Calidad

Una vez que el usuario inicia sesi√≥n correctamente, accede al **men√∫ principal** de la aplicaci√≥n, desde donde se pueden gestionar los an√°lisis de calidad sobre los rollos de im√°genes disponibles.

La interfaz est√° dividida en diferentes zonas:

- **Par√°metros de control**: configuraci√≥n de tolerancias y l√≠mites.
- **Selector de rollos** (ComboBox): permite elegir la carpeta o lote a analizar.
- **Visores de im√°genes**: muestran la imagen original (izquierda) y la imagen con los defectos identificados por tipo y con su √°rea medida en mm2 (derecha).
- **Tabla de resultados**: muestra los defectos detectados en cada imagen analizada, identificando el mayor defecto encontrado y el resultado de la imagen con respecto a los umbrales de tolerancia.
- **Barra de progreso**: indica el avance del an√°lisis.
- **Botonera de control**: iniciar control de calidad, detenerlo, reiniciar, guardar resultados, generar informe.

<!-- Requiere captura de pantalla del men√∫ principal -->

---

### 4.1 Ejecuci√≥n paso a paso del control de calidad

Para iniciar el an√°lisis:

1. **Ajusta los par√°metros**:
   - Cantidad m√°xima de defectos aceptables por rollo (`spinBox`)
   - Tolerancia por tama√±o del defecto encontrado (`doubleSpinBox`)

2. **Selecciona un rollo** desde el ComboBox. Solo aparecer√°n aquellos rollos que cumplan con el criterio de <= cantidad de defectos por rollo.

3. Haz clic en el bot√≥n **"Iniciar Control de Calidad"**.

Durante el an√°lisis:

- Se mostrar√°n en los visores la imagen original y su versi√≥n procesada con los defectos marcados, tipados y medidos.
- La barra de progreso avanzar√° conforme se vayan procesando las im√°genes.
- Cada imagen procesada se a√±adir√° como una nueva fila en la tabla de resultados.

Puedes **interrumpir** el an√°lisis en cualquier momento con el bot√≥n correspondiente. Si finaliza completamente, se mostrar√° un mensaje visual de ‚ÄúAn√°lisis completado‚Äù.

---

### 4.2 Guardado de resultados

Una vez completado el an√°lisis, puedes guardar los resultados:

- Haz clic en el bot√≥n **"Guardar resultados"**.
- La aplicaci√≥n enviar√° todos los datos al backend (incluyendo dimensiones de los defectos, clasificaci√≥n y fecha).
- El sistema calcular√° autom√°ticamente si el resultado del rollo es **‚ÄúAPTO‚Äù** o **‚ÄúNO APTO‚Äù**.
- La informaci√≥n quedar√° registrada en la base de datos, y se generar√° un nuevo ID de control.

> ‚ö†Ô∏è No podr√°s guardar resultados si el an√°lisis no se ha completado.

---

### 4.3 Generaci√≥n de informes PDF

Despu√©s de guardar, puedes generar un **informe en PDF**:

- Haz clic en el bot√≥n **"Generar informe"**.
- El sistema crear√° un documento PDF con:
  - Todos los resultados del an√°lisis
  - Detalles de las im√°genes
  - Par√°metros usados
  - Estado final del rollo
- El informe se guarda autom√°ticamente en la carpeta designada en el gestor de hist√≥ricos.

## 5. Hist√≥rico de Controles

Desde el men√∫ principal, puedes acceder al **Hist√≥rico de Controles** mediante el bot√≥n correspondiente. Esta secci√≥n permite consultar todos los controles de calidad previamente realizados y registrados en la base de datos.

La interfaz est√° organizada como una tabla interactiva, con varias funcionalidades que facilitan la b√∫squeda y revisi√≥n de resultados pasados.

<!-- Requiere captura de pantalla del hist√≥rico -->

---

### 5.1 Filtrado por usuario, fecha y tolerancia

En la parte superior del hist√≥rico encontrar√°s opciones para **filtrar los registros** de acuerdo con distintos criterios:

- **Tolerancia por defecto**: filtra seg√∫n el umbral de detecci√≥n utilizado en el an√°lisis.
- **Usuario**: permite ver solo los controles realizados por un operario espec√≠fico.
- **Fecha**: restringe la b√∫squeda a un rango temporal concreto.

Estos filtros son combinables entre s√≠. Una vez aplicados, la tabla se actualizar√° mostrando √∫nicamente los registros que cumplan con los criterios seleccionados.

---

### 5.2 Edici√≥n de comentarios

Cada registro del hist√≥rico puede incluir **comentarios o notas** asociadas al informe.

- Solo la columna **"Comentarios"** de la tabla es editable.
- Puedes escribir directamente en la celda correspondiente.
- Al modificar un comentario, este se guarda autom√°ticamente en la base de datos, asociado al informe correspondiente.

> ‚úèÔ∏è Esta funcionalidad permite a√±adir observaciones adicionales despu√©s del an√°lisis, como resultados de verificaci√≥n manual o incidencias observadas.

---

### 5.3 Visualizaci√≥n de informes

Desde el hist√≥rico puedes acceder al informe PDF asociado a cada control y visualizarlo.

- Selecciona en la tabla el control cuyo informe deseas ver y pulsa el bot√≥n **Mostrar informe**.
- Solo podr√°n visualizarse informes de controles para los que los operarios hayan generado un informe tras completar un control de calidad.
- Los controles que **no disponen de informe** aparecen marcados con un **signo en rojo** en la columna **"Informe"** de la tabla.

> üìÅ Todos los informes generados se almacenan en la carpeta designada por los administradores mediante el bot√≥n **Gestor de hist√≥ricos**.

## 5. Panel Lateral de Navegaci√≥n

En el lateral izquierdo de la aplicaci√≥n encontrar√°s un panel fijo que permite una navegaci√≥n r√°pida entre las diferentes secciones del sistema.

Este panel incluye informaci√≥n del usuario, el ID del pr√≥ximo control, botones de acceso directo y opciones de cierre de sesi√≥n.

<!-- Requiere captura del panel lateral -->

---

### 5.1 Visualizaci√≥n del usuario actual

En la parte superior del panel se muestra:

- El **nombre del usuario** y su **rol** (`operario`, `administrador`)
- El **ID del pr√≥ximo control de calidad**, calculado autom√°ticamente

Esto permite al usuario conocer con claridad su nivel de acceso y el n√∫mero correlativo del siguiente an√°lisis.

---

### 5.2 Navegaci√≥n entre ventanas

Desde el panel lateral se puede acceder directamente a:

- El **Men√∫ Principal** (control de calidad)
- La ventana de **Hist√≥rico de Controles**
- El **Manual de Usuario**

> üåê Si hay conexi√≥n a Internet, se abrir√° la versi√≥n online (por ejemplo, el README en GitHub).  
> üìÅ Si no hay conexi√≥n, se abrir√° autom√°ticamente una copia local en PDF (instalado con tu aplicaci√≥n).

Tambi√©n se incluye el bot√≥n **Cerrar sesi√≥n**, que ofrece tres opciones al usuario:

- **S√≠**: cierra la sesi√≥n y la aplicaci√≥n
- **No**: cancela la acci√≥n
- **Abrir nueva sesi√≥n**: permite volver a la pantalla de login sin cerrar la aplicaci√≥n

> ‚úÖ Esta funcionalidad garantiza un cierre de sesi√≥n claro, seguro y personalizable.

Estos botones est√°n siempre disponibles para todos los usuarios registrados.

---

### 5.3 Acceso al Panel de Administraci√≥n (solo administradores)

El bot√≥n **Panel de control** permite a los usuarios con rol `administrador` acceder a la interfaz web de administraci√≥n.

- Se abre en el navegador predeterminado
- El sistema a√±ade autom√°ticamente el token de sesi√≥n a la URL

> üîí Este bot√≥n aparece deshabilitado para los usuarios sin permisos administrativos.

---

### 5.4 Gestor de rutas de almac√©n y de hist√≥ricos (solo administradores)

Los botones **Gestor de almac√©n** y **Gestor de hist√≥ricos** permiten definir o modificar:

- La ruta ra√≠z donde se almacenan los rollos de im√°genes a analizar
- La ruta de destino donde se guardan los informes PDF generados

Al pulsar cualquiera de estos botones, se abre un di√°logo para seleccionar la carpeta deseada. Las rutas seleccionadas se guardan en el archivo de configuraci√≥n `config.json` y se conservan para futuras sesiones.

> üîí Estas funciones tambi√©n est√°n limitadas al rol de administrador.

### üßæ Resumen de accesos por rol

| Funcionalidad                         | Operario | Administrador |
|--------------------------------------|:--------:|:-------------:|
| Visualizar datos del usuario         |    ‚úÖ    |      ‚úÖ       |
| Acceso al men√∫ principal             |    ‚úÖ    |      ‚úÖ       |
| Ejecutar control de calidad          |    ‚úÖ    |      ‚úÖ       |
| Guardar resultados                   |    ‚úÖ    |      ‚úÖ       |
| Generar informes PDF                 |    ‚úÖ    |      ‚úÖ       |
| Acceder al hist√≥rico de controles    |    ‚úÖ    |      ‚úÖ       |
| Editar comentarios del hist√≥rico     |    ‚úÖ    |      ‚úÖ       |
| Ver/mostrar informes                 |    ‚úÖ    |      ‚úÖ       |
| Acceso al Manual de Usuario          |    ‚úÖ    |      ‚úÖ       |
| Cerrar sesi√≥n                        |    ‚úÖ    |      ‚úÖ       |
| Acceder al Panel de Administraci√≥n   |          |      ‚úÖ       |
| Gestor de rutas de almac√©n           |          |      ‚úÖ       |
| Gestor de ruta de informes hist√≥ricos|          |      ‚úÖ       |

> ‚úÖ **Leyenda**: una marca indica que la funcionalidad est√° disponible para ese rol.

...

## 7. Cr√©ditos y Mantenimiento

Esta aplicaci√≥n ha sido desarrollada como parte del proyecto final del **Ciclo Formativo de Grado Superior en Desarrollo de Aplicaciones Multiplataforma (CFGS DAM)**.

### üë®‚Äçüíª Autor

- **Nombre**: Paco Gago  
- **GitHub**: [@PacoG86](https://github.com/PacoG86/isli)
---

### üõ†Ô∏è Mantenimiento

Actualmente, el mantenimiento y evoluci√≥n de la aplicaci√≥n se realiza de forma personal. Si encuentras errores, tienes sugerencias de mejora o deseas colaborar, puedes:

- Abrir un issue en el repositorio de GitHub
- Contactar directamente al autor
- O realizar un fork y proponer cambios mediante pull requests

---

### üì¨ Contacto para soporte t√©cnico o incidencias

Para reportar problemas t√©cnicos, errores en el uso o sugerencias relacionadas con el funcionamiento de la aplicaci√≥n, puedes dejar un mensaje en la secci√≥n de *Issues* del repositorio

> üìå *Se recomienda adjuntar capturas de pantalla o una descripci√≥n detallada del problema para facilitar el soporte.*

## 8. Preguntas Frecuentes (FAQ)

### ‚ùì ¬øQu√© ocurre si introduzco mal el correo o la contrase√±a?

La aplicaci√≥n mostrar√° un mensaje de error y no permitir√° el acceso hasta que los datos sean correctos. Recuerda que puedes usar el enlace **"Olvid√© mi contrase√±a"** para solicitar una nueva.

---

### ‚ùì ¬øPuedo usar la aplicaci√≥n sin conexi√≥n a Internet?

Parcialmente. La aplicaci√≥n necesita conexi√≥n para:

- Validar el login (autenticaci√≥n)
- Consultar el siguiente ID de control
- Enviar los resultados al backend
- Generar y registrar informes

Sin conexi√≥n, no podr√°s iniciar sesi√≥n ni guardar resultados. Sin embargo, si ya est√°s autenticado, algunas acciones locales como analizar im√°genes o ver la interfaz s√≠ funcionar√°n (modo limitado).

---

### ‚ùì ¬øQu√© hago si no aparece ning√∫n rollo en el ComboBox?

Comprueba lo siguiente:

- Que has definido correctamente la **carpeta ra√≠z de los rollos** usando el bot√≥n **Gestor de almac√©n**.
- Que existen subcarpetas con im√°genes v√°lidas (`.jpg`, `.png`, `.bmp`, etc.).
- Que el n√∫mero de im√°genes de cada carpeta no supere el umbral configurado en el `spinBox`.

---

### ‚ùì ¬øD√≥nde se guardan los informes PDF generados?

Los informes se almacenan por defecto en la carpeta que se haya designado por defecto mediante el bot√≥n **Gestor de hist√≥ricos**


Esta ubicaci√≥n puede cambiar si el administrador redefine la ruta mediante el bot√≥n **Gestor de hist√≥ricos**.

---

### ‚ùì ¬øQu√© significan los colores en las tablas?

- üü• **Rojo claro**: imagen con defecto fuera del umbral (`nok`)
- üü© **Verde claro**: imagen dentro del umbral (`ok`)
- üü® **Naranja** (en botones): solicitud de cambio de contrase√±a pendiente de aprobaci√≥n
- üü• **Rojo**: Informe no disponible/ Resultado de an√°lisis `NO APTO`
- üü© **Verde**: Control con informe disponible/ Resultado de an√°lisis `APTO`

---

### ‚ùì ¬øPuedo editar un informe ya generado?

No. Los informes en PDF se generan como documentos cerrados. Sin embargo, puedes:

- A√±adir **comentarios** directamente desde la tabla del hist√≥rico
- Regenerar un informe si este no se cre√≥ en su momento

---

### ‚ùì ¬øC√≥mo se aprueban las solicitudes de cambio de contrase√±a?

Cuando un usuario solicita restablecer su contrase√±a:

- Aparecer√° un **bot√≥n naranja** en la tabla de usuarios del panel de administraci√≥n
- El administrador puede revisar la solicitud y aprobarla
- Al aprobarla, se actualiza autom√°ticamente la contrase√±a del usuario

---

### ‚ùì ¬øPuedo cambiar la carpeta donde se guardan los rollos?

S√≠. Usa el bot√≥n **Gestor de almac√©n** (solo visible para administradores) para definir la carpeta ra√≠z que contiene los lotes a analizar.

---

## 9. ‚ú® Funcionalidades implementadas

- ‚úÖ Inicio de sesi√≥n con autenticaci√≥n de usuarios  
- ‚úÖ Visualizaci√≥n de im√°genes con visor dual en alta calidad  
- ‚úÖ An√°lisis autom√°tico de im√°genes por lotes  
- ‚úÖ Clasificaci√≥n de defectos basada en umbrales personalizables  
- ‚úÖ Lectura y visualizaci√≥n de bounding boxes desde archivos `.json`  
- ‚úÖ Almacenamiento de resultados en base de datos MySQL  
- ‚úÖ Hist√≥rico de inspecciones accesible desde la interfaz  
- ‚úÖ Edici√≥n de notas y comentarios en informes previos  
- ‚úÖ Generaci√≥n autom√°tica de informes PDF por control de calidad  
- ‚úÖ Gesti√≥n de IDs autom√°ticos (formato `00001`, `00002`, etc.)  
- ‚úÖ Control de sesi√≥n con logout y cambio de usuario  
- ‚úÖ Bot√≥n de reinicio para limpiar el an√°lisis y restablecer entorno  
- ‚úÖ Contador visual de im√°genes procesadas durante el an√°lisis  
- ‚úÖ C√°lculo autom√°tico del orden de an√°lisis por rollo  
- ‚úÖ Restricci√≥n de acciones seg√∫n el rol del usuario (admin / operario)  
- ‚úÖ Selecci√≥n de carpeta ra√≠z de trabajo mediante explorador de archivos  
- ‚úÖ Sistema de recuperaci√≥n de contrase√±a gestionado por administradores  
- ‚úÖ Comprobaci√≥n del estado de las carpetas antes de analizar  
- ‚úÖ Restauraci√≥n autom√°tica del estado original del rollo al reiniciar 

---

## 10. üìÅ Estructura del repositorio

ISLI/
‚îú‚îÄ‚îÄ frontend/ # Interfaz gr√°fica (PySide6)
‚îÇ ‚îú‚îÄ‚îÄ UI/ # Archivos .ui dise√±ados en Qt Designer
‚îÇ ‚îú‚îÄ‚îÄ tests/ # Scripts de prueba para conexiones
‚îÇ ‚îú‚îÄ‚îÄ control_calidad_menu_principal.py # Ventana principal
‚îÇ ‚îú‚îÄ‚îÄ historico_controles_app.py # Ventana de hist√≥rico
‚îÇ ‚îî‚îÄ‚îÄ main.py # Arranque principal de la aplicaci√≥n
‚îÇ
‚îú‚îÄ‚îÄ backend/ # Servidor FastAPI
‚îÇ ‚îú‚îÄ‚îÄ routers/ # Endpoints REST (login, informes, controles)
‚îÇ ‚îú‚îÄ‚îÄ schemas/ # Esquemas de datos (pydantic)
‚îÇ ‚îú‚îÄ‚îÄ database/ # Configuraci√≥n y modelos SQLAlchemy
‚îÇ ‚îî‚îÄ‚îÄ main.py # Punto de entrada del backend
‚îÇ
‚îú‚îÄ‚îÄ analisis_defectos/ # Procesamiento de im√°genes con OpenCV
‚îÇ ‚îî‚îÄ‚îÄ procesador_rollos.py
‚îÇ
‚îú‚îÄ‚îÄ utils_ui.py # Utilidades comunes para interfaz
‚îú‚îÄ‚îÄ utils_informes.py # L√≥gica de generaci√≥n y gesti√≥n de PDFs
‚îú‚îÄ‚îÄ config.json # Configuraci√≥n de rutas base
‚îú‚îÄ‚îÄ requirements.txt # Dependencias del proyecto
‚îî‚îÄ‚îÄ README.md # Manual de usuario
---

